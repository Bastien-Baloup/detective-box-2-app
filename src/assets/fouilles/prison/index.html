<!DOCTYPE html>
<html lang="fr">
  <head>
    <title>Lieu de fouille</title>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="target-densitydpi=device-dpi, width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no, minimal-ui"
    />

    <style>
      @-ms-viewport {
        width: device-width;
      }
    </style>
    <link rel="stylesheet" href="vendor/reset.min.css" />
    <link rel="stylesheet" href="style.css" />
  </head>

  <body class="single-scene">
    <div id="pano"></div>
    <div id="sceneList">
      <ul class="scenes">
        <a href="javascript:void(0)" class="scene" data-id="0-prison">
          <li class="text">Prison</li>
        </a>
      </ul>
    </div>

    <div id="titleBar" style="display: none">
      <h1 class="sceneName">Prison</h1>
    </div>

    <a href="javascript:void(0)" style="display: none" id="autorotateToggle">
      <img class="icon off" src="img/play.png" />
      <img class="icon on" src="img/pause.png" />
    </a>

    <a href="javascript:void(0)" id="fullscreenToggle">
      <img class="icon off" src="img/fullscreen.png" />
      <img class="icon on" src="img/windowed.png" />
    </a>

    <a href="javascript:void(0)" id="sceneListToggle">
      <img class="icon off" src="img/expand.png" />
      <img class="icon on" src="img/collapse.png" />
    </a>

    <a
      href="javascript:void(0)"
      id="viewUp"
      class="viewControlButton viewControlButton-1"
    >
      <img class="icon" src="img/up.png" />
    </a>
    <a
      href="javascript:void(0)"
      id="viewDown"
      class="viewControlButton viewControlButton-2"
    >
      <img class="icon" src="img/down.png" />
    </a>
    <a
      href="javascript:void(0)"
      id="viewLeft"
      class="viewControlButton viewControlButton-3"
    >
      <img class="icon" src="img/left.png" />
    </a>
    <a
      href="javascript:void(0)"
      id="viewRight"
      class="viewControlButton viewControlButton-4"
    >
      <img class="icon" src="img/right.png" />
    </a>
    <a
      href="javascript:void(0)"
      id="viewIn"
      class="viewControlButton viewControlButton-5"
    >
      <img class="icon" src="img/plus.png" />
    </a>
    <a
      href="javascript:void(0)"
      id="viewOut"
      class="viewControlButton viewControlButton-6"
    >
      <img class="icon" src="img/minus.png" />
    </a>

    <script src="vendor/screenfull.min.js"></script>
    <script src="vendor/bowser.min.js"></script>
    <script src="vendor/marzipano.js"></script>

    <script src="data.js"></script>
    <script src="index.js"></script>
    <div class="img" id="img-see1" style="display: none">
      <span class="close-img">X</span>
      <img src="assets/1.png" class="img-see" />
      <div style="text-align: center">
        <div class="btn-red watch" id="see3">Retourner</div>
      </div>
    </div>
    <div class="img" id="img-see2" style="display: none">
      <span class="close-img">X</span>
      <img src="assets/2.png" class="img-see" />
    </div>

    <div class="img" id="img-see3" style="display: none">
      <span class="close-img">X</span>
      <img src="assets/3.png" class="img-see" />
      <div style="text-align: center">
        <div class="btn-red watch" id="see1">Retourner</div>
      </div>
    </div>

    <audio id="arrival" controls style="display: none">
      <source src="assets/arrival.mp3" type="audio/mpeg" />
      Your browser does not support the audio element.
    </audio>
    <script>
      document.addEventListener("DOMContentLoaded", () => {
        const prisonGarraud = sessionStorage.getItem(
          "detective_box_prison_garraud"
        );

        if (!prisonGarraud) {
          const bodyClickHandler = (event) => {
            document.getElementById("arrival").play();
            document.body.removeEventListener("click", bodyClickHandler);
          };
          document.body.addEventListener("click", bodyClickHandler);
        }

        document.querySelectorAll(".watch").forEach((element) => {
          element.addEventListener("click", () => {
            document.querySelectorAll(".img").forEach((imgElement) => {
              imgElement.style.display = "none";
            });
            const id = element.getAttribute("id");
            document.getElementById("img-" + id).style.display = "block";
          });
        });

        document.querySelectorAll(".close-img").forEach((element) => {
          element.addEventListener("click", () => {
            document.querySelectorAll(".img").forEach((imgElement) => {
              imgElement.style.display = "none";
            });
          });
        });

        sessionStorage.setItem("detective_box_prison_garraud", "1");
      });
    </script>
  </body>
</html>
